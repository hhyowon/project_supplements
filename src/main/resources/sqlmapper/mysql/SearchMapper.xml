<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Search">

     <!-- 검색 테이블 리스트 -->
	<select id="searchList" parameterType="Map" resultType="Map">
       select PRODUCT,URL,FORMULATION,PROUDUCT_IMG,EFFECT
       From project_diet.product;
	</select>


    <!-- 찐 검색창 리스트-->
    <select id="list" parameterType="Map" resultType="Map">
        SELECT PRODUCT, FORMULATION, EFFECT
        FROM project_diet.product
        WHERE 1 = 1
        <choose>
            <when test="searchColumn == 'PRODUCT'">
                AND PRODUCT LIKE CONCAT(#{searchTerm}, '%')
            </when>
            <when test="searchColumn == 'FORMULATION'">
                AND FORMULATION LIKE CONCAT(#{searchTerm}, '%')
            </when>
            <when test="searchColumn == 'EFFECT'">
                AND EFFECT LIKE CONCAT(#{searchTerm}, '%')
            </when>
        </choose> 
    </select>
</mapper>
