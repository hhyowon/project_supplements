# '9998' Final Project

## ğŸ“ƒì½˜í…ì¸  : ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ì¶”ì²œ ì‚¬ì´íŠ¸ 

### âœ”ï¸í”„ë¡œì íŠ¸ ì„¤ëª…
ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ì¶”ì²œ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“¤ì–´ ë‹¬ë¼ëŠ” ì˜ë¢°ë¥¼ ë°›ì•„ êµ¬í˜„í•œ ì‚¬ì´íŠ¸. 
ì‚¬ì´íŠ¸ ì´ìš©ê°ì˜ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ê¸°ë°˜í•œ ìˆœìœ„ë¥¼ í†µí•´ ì›í•˜ëŠ” íš¨ê³¼ë³„ ë³´ì¡°ì œë¥¼ ì¶”ì²œë°›ì„ ìˆ˜ ìˆë‹¤. 
ì œí˜• ë° íš¨ê³¼ë³„ ë³´ì¡°ì œë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆìœ¼ë©°, ì»¤ë®¤ë‹ˆí‹°ë¥¼ í†µí•´ ë³´ì¡°ì œì— ëŒ€í•œ ì§ˆë¬¸, í›„ê¸°, ë° ì¶”ì²œê¸€ì„ ì‘ì„± ë° ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. 
ë”ë¶ˆì–´ ë§ˆì´í˜ì´ì§€, ê´€ë¦¬ìí˜ì´ì§€ë¥¼ í†µí•´ ì›í™œí•œ ê´€ë¦¬ê°€ ë  ìˆ˜ ìˆê²Œë” êµ¬í˜„í•˜ì˜€ë‹¤.

### âœ”ï¸ì‚¬ìš© ê¸°ìˆ 

<img src="https://img.shields.io/badge/Java-3178C6?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat&logo=JavaScript&logoColor=white"/> <img src="https://img.shields.io/badge/SpringBoot-6DB33F?style=flat&logo=Spring Boot&logoColor=white"/> <img src="https://img.shields.io/badge/MySQL-4479A1?style=flat&logo=MySQL&logoColor=white"/> <img src="https://img.shields.io/badge/Bootstrap-7952B3?style=flat&logo=Bootstrap&logoColor=white"/> <img src="https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=HTML5&logoColor=white"/> <img src="https://img.shields.io/badge/CSS-1572B6?style=flat&logo=CSS3&logoColor=white"/> <img src="https://img.shields.io/badge/MyBatis-4479A1?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/JSP Servlet-C5E99B?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/GoormIDE-D4DFE6?style=flat&logo=&logoColor=white"/>

### âœ”ï¸ê°œë°œ ê¸°ê°„

- 2023ë…„ 7ì›” 7ì¼~ 2023ë…„ 7ì›” 31ì¼

### âœ”ï¸êµ¬í˜„ ì˜ìƒ

- [ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ êµ¬í˜„ ì˜ìƒ](https://www.youtube.com/watch?v=eFJFn9SuabQ)

### âœ”ï¸êµ¬í˜„ í™”ë©´

<img src="src/main/resources/static/images/í™”ë©´ì •ì˜ì„œ.png" width="800"> 
<img src="src/main/resources/static/images/í™”ë©´ì •ì˜ì„œ2.png" width="800"> 


### âœ”ï¸ERD

- [ERD](https://github.com/hhyowon/project_supplements/blob/main/Docs/Databases/ERD.png) 

### âœ”ï¸íŒ€ì› ë° êµ¬í˜„ ê¸°ëŠ¥

### ğŸ‘©â€ğŸ’» ê¹€ëª…ê³¤

<details>
<summary>Sample Code</summary>

- [SecurityConfiguration.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/configs/SecurityConfiguration.java)
- [SampleController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/SampleController.java)
- [SampleService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SampleService.java)
- [DietMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/DietMapper.xml)
- [Header.jsp](https://github.com/hhyowon/project_supplements/blob/main/src/main/webapp/WEB-INF/views/etc/Header.jsp)
- [Footer.jsp](https://github.com/hhyowon/project_supplements/blob/main/src/main/webapp/WEB-INF/views/etc/Footer.jsp)
- [list_map_ex.jsp](https://github.com/hhyowon/project_supplements/blob/main/src/main/webapp/WEB-INF/views/etc/list_map_ex.jsp)
</details>

<details>
<summary>ë¡œê·¸ì¸</summary>

- [LoginController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/LoginController.java)
- [SignController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/SignController.java)
- [SignService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SignService.java)

</details>

<details>
<summary>ê¶Œí•œ ì„¤ì • </summary>
  
 - [PrincipalUser.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/security/PrincipalUser.java)
 - [PrincipalUserService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/security/PrincipalUserService.java)
 - [AuthsService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/AuthsService.java)
 - [SecurityConfiguraion.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/configs/SecurityConfiguration.java)
  
</details>


### ğŸ‘©â€ğŸ’» ì†¡ëª…ì£¼

<details>
<summary>ì„¤ë¬¸ì¡°ì‚¬ í†µê³„</summary>

- [SurveryResultMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/LoginMapper.xml)
- [SurveyResultController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/LoginController.java)
- [SurveyResultService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/RegisterService.java)

</details>

<details>
<summary>ë­í‚¹</summary>

- [SurveyRankMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/RegisterMapper.xml)
- [RankController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/RegisterController.java)
- [RankService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/RegisterService.java)

</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ ì„¤ë¬¸ ì´ë ¥</summary>

- [UserInfoAdminMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/UserInfoAdminMapper.xml)
- [UserInfoAdminController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/UserInfoAdminController.java)
- [UserInfoAdminService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/UserInfoAdminService.java)

</details>

<details>
<summary>ê´€ë¦¬ì í˜ì´ì§€ ì„¤ë¬¸ ì´ë ¥</summary>

- [UserInfoAdminMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/UserInfoAdminMapper.xml)
- [UserInfoAdminController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/UserInfoAdminController.java)
- [UserInfoAdminService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/UserInfoAdminService.java)

</details>

### ğŸ‘©â€ğŸ’» ì¡°íš¨ì›

<details>
<summary>ë©”ì¸í˜ì´ì§€</summary>

- [CheckPriceMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/CheckPriceMapper.xml)
- [MainController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/CheckPriceController.java)
- [CheckPriceService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/CheckPriceService.java)

</details>

<details>
<summary>BMI í˜ì´ì§€</summary>

- [BmiMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/SearchMapper.xml)
- [BMIController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/SearchController.java)
- [BmiSerivce.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/SearchService.java)

</details>

<details>
<summary>ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ê²€ìƒ‰</summary>

- [SearchMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/DealerMapper.xml)
- [SearchController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/DealerController.java)
- [SearchService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/DealerService.java)
</details>


<details>
<summary>ê´€ë¦¬ìí˜ì´ì§€ íšŒì› ê´€ë¦¬</summary>

- [AdminMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/NoticeMapper.xml)
- [AdminController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/NoticeController.java)
- [AdminService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/NoticeService.java)

</details>

<details>
<summary>ê´€ë¦¬ìí˜ì´ì§€ ë³´ì¡°ì œ ê´€ë¦¬</summary>

- [AdminProductMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/NoticeMapper.xml)
- [AdminProductsController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/NoticeController.java)
- [AdminProductsService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/NoticeService.java)

</details>


### ğŸ‘©â€ğŸ’» ì˜¤ê°€ë°° 

<details>
<summary>ì„¤ë¬¸ì¡°ì‚¬ ì§„í–‰ í˜ì´ì§€</summary>

- [SurveyMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/SurveyMapper.xml)
- [SurveyController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/SurveyController.java)
- [SurveyService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SurveyService.java)

</details>

<details>
<summary>ì»¤ë®¤ë‹ˆí‹°</summary>

- [CommunityMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/CommunityMapper.xml)
- [CommunityController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/CommunityController.java)
- [CommunityService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/CommunityService.java)
</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ íšŒì›ì •ë³´ ìˆ˜ì • </summary>

- [MypageMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/MypageMapper.xml)
- [MypageController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/MypageController.java)
- [MypageService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/MypageService.java)

</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ </summary>

- [MypageMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/MypageMapper.xml)
- [MypageController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/MypageController.java)
- [MypageService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/MypageService.java)

</details>

<details>
<summary>ê´€ë¦¬ì í˜ì´ì§€ ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ </summary>

- [AdminCommunityMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/AdminCommunityMapper.xml)
- [AdminCommunityControll.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/AdminCommunityControll.java)
- [AdminCommunityService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/AdminCommunityService.java)

</details>

### âœ”ï¸ì£¼ìš”ì½”ë“œ ë° ì§„í–‰ í†µí•´ ëŠë‚€ ì 

### ğŸ‘ ê¹€ëª…ê³¤

```
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags" %>
<sec:authorize access="isAuthenticated()">
<sec:authorize access="hasRole('ROLE_ADMIN')">
<sec:authorize access="isAuthenticated()">
@Configuration
@EnableWebSecurity
public class SecurityConfiguration {
    @Bean
        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {
                // None using csrf protection
                httpSecurity.csrf().disable();
                // ê¶Œí•œì— ëŒ€í•œ ë¶€ë¶„ : url & roles : user url & roles
                // url, roles from Dao
                httpSecurity.authorizeHttpRequests() // ë¡œê·¸ì¸
                .requestMatchers("/manager*").hasAnyRole("ADMIN", "MANAGER")
                .requestMatchers("/admin*/*").hasRole("ADMIN")
                .requestMatchers("/main").authenticated() //ë¡œê·¸ì¸í•œ ëŒ€ìƒì
                .requestMatchers("/carInfor/map/*").hasRole("USER")
                        .anyRequest().permitAll() //ê·¸ì™¸ ì „ì²´ ëŒ€ìƒ
                ;
                httpSecurity.formLogin(login -> login.loginPage("/loginForm") //ë¡œê·¸ì¸ í•˜ì§€ ì•Šì€ ì‚¬ëŒì´ ë¡œê·¸ì¸í•œ í›„ì— ì ‘ê·¼ ê°€ëŠ¥í•œ í˜ì´ì§€ë¥¼ ëˆŒë €ì„ë•Œ ë¡œê·¸ì¸ í¼ì„ ë„ì–´ë¼
                                .failureUrl("/loginForm?fail=true") 
                                .loginProcessingUrl("/login") 
                                .defaultSuccessUrl("/")); //ë¡œê·¸ì¸ í•˜ê³  ë‚˜ë©´ ë©”ì¸ìœ¼ë¡œ ê°„ë‹¤
                httpSecurity.logout(logout -> logout
                                .logoutSuccessUrl("/home")
                                .invalidateHttpSession(true)
                                .deleteCookies("JSESSIONID"));

                return httpSecurity.build();
        }
                 @Bean
        public BCryptPasswordEncoder encoderPasswordEncoder() {
                return new BCryptPasswordEncoder();
        }       
```
ëª¨ì—¬ì„œ íšŒì˜í•˜ë‹¤ê°€ ê°•ì‚¬ë‹˜ì´ ë¶€ë¥´ì‹œê¸¸ë˜ ë‚´ê°€ ë‹¤ë…€ì˜¬ê²Œ~ í•˜ê³  ë‚˜ê°”ë‹¤ê°€ ë¡œë˜ 5ë“±ì— ë‹¹ì²¨ì´ ë˜ì§€ ì•ŠëŠ” ì œê°€ ë°±ì—”ë“œì— ë‹¹ì²¨ë˜ì—ˆìë‹ˆë‹¤.
ë‚´ê°€.. ë‚´ê°€ ë°±ì—”ë“œë¼ë‹ˆ.. ë‚´ê°€ ë°±ì—”ë“œë¼ë‹ˆ!! ìœ¼ì•„ë‹ˆ!! ë‚´ê°€ ë°±ì—”ë“œë¼ë‹ˆ!!!!!
ì•„ë¬´ê³ í†  ëª¨ë¥´ëŠ” ë‚´ê°€ ë°±ì—”ë“œë¼ ê±±ì •ì´ ë§ì´ ë˜ì—ˆì§€ë§Œ ë§ˆë¥¸ ì˜¤ì§•ì–´ë„ ì§œë©´ ë¬¼ì´ ë‚˜ì˜¨ë‹¤ê³ 
í•˜ë‹¤ë³´ë‹ˆ ë˜ë”ë¼êµ¬ìš”.
ì¼ë‹¨ í•´! ë¼ëŠ” ë§ˆì¸ë“œê°€ ì¤‘ìš”í–ˆìë‹ˆë‹¤.
í•˜ë‚˜ì”© í•´ê²°í•´ ë‚˜ê°€ëŠ” ìš°ë¦¬ íŒ€ì„ ë³´ë©´ì„œ ìš°ë¦¬ë„ í•  ìˆ˜ ìˆë‹¤ë¼ëŠ” ìƒê°ì„ í•˜ê²Œ ë˜ì—ˆìë‹ˆë‹¤.
ìš°ë¦¬ ì¡°ì›ë“¤ì´ ë§ì´ ë„ì™€ì¤˜ì„œ í”„ë¡œì íŠ¸ 1ì°¨ ì™„ë£Œ í•  ìˆ˜ ìˆì—ˆìë‹ˆë‹¤.
ê¶Œí•œë¶€ì—¬í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì‹œí–‰ì°©ì˜¤ê°€ ë§ì´ ìˆì—ˆê³  ë¡œê·¸ì¸í•˜ë©´ì„œ PASSWORDë¥¼ ì•”í˜¸í™” í•˜ëŠ” ë¶€ë¶„ë„ ì¸ìƒê¹Šì—ˆìë‹ˆë‹¤.
2ì°¨ í”„ë¡œì íŠ¸ë„ ì˜ í•´ì³ë‚˜ê°”ìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.
ë¶€ì¡±í•œ ì €ë¥¼ ë§Œë‚˜ ê³ ìƒí•œ íŒ€ì›ë“¤ì—ê²Œ ì´ ì˜ê´‘ì„ ëŒë¦½ë‹ˆë‹¤.

### ğŸ‘ ì†¡ëª…ì£¼

```
      SELECT T_SURVEYOPT.SURVEY_OPT_URL AS SURVEY_RANK_FIRST
    FROM (
    SELECT T_SURVEY.SURVEY_UID
    FROM SURVEY AS T_SURVEY
    INNER JOIN SURVEYRESULT AS T_SURVEYRESULT ON T_SURVEY.SURVEY_UID = T_SURVEYRESULT.SURVEY_UID
    WHERE T_SURVEY.SURVEY_OPT_ID = 'O-54'
    ) AS T_SURVEYUID
    INNER JOIN SURVEY AS T_SURVEY2 ON T_SURVEYUID.SURVEY_UID = T_SURVEY2.SURVEY_UID
    INNER JOIN SURVEY_OPT AS T_SURVEYOPT ON T_SURVEYOPT.SURVEY_OPT_ID = T_SURVEY2.SURVEY_OPT_ID
    WHERE T_SURVEY2.SURVEY_QUESTION_ID = 'Q-06'
    GROUP BY T_SURVEYOPT.SURVEY_OPT_URL
    ORDER BY COUNT(*) DESC
    LIMIT 3;

    // ê´€ë¦¬ì ë¶€ëª¨í…Œì´ë¸” ì„¤ë¬¸ì¡°ì‚¬ ì‚­ì œ
    public Object delete(Map dataMap) {
        String sqlMapId = "Adminsurvey.surveydelete";
        Object result = sharedDao.delete(sqlMapId, dataMap);
        return result;
        }
    // ê´€ë¦¬ì ìì‹í…Œì´ë¸” ì„¤ë¬¸ì¡°ì‚¬ ì‚­ì œ
    public Object resultdelete(Map dataMap) {
        String sqlMapId = "Adminsurvey.surveyresultdelete";
        Object result = sharedDao.delete(sqlMapId, dataMap);
        return result;
        }
    // ê´€ë¦¬ì ì„¤ë¬¸ì¡°ì‚¬ ì‚­ì œ ë° select
    public Object deleteAndSelectSearch(String SURVEY_UID, Map dataMap) {
        dataMap.put("SURVEY_UID", SURVEY_UID);
        HashMap result = new HashMap<>();
        result.put("deleteCount", this.delete(dataMap));
        result.put("deleteCount", this.resultdelete(dataMap));
        result.putAll(this.selectWithPagination(dataMap));
        return result;
        }   
```
    ë­í‚¹ì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ ì¿¼ë¦¬ë¬¸ì„ ì‘ì„±í•˜ëŠ”ë° ìˆì–´ì„œ 




### ğŸ‘ ì¡°íš¨ì›

```
        <% Paginations paginations=(Paginations)result.get("paginations"); %>
        
          </div>
          <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
              <li class="page-item">
                <a class="page-link" href="/adminproduct/selectSearch?currentPage=<%=paginations.getPreviousPage()%>&search=<%= params.getOrDefault("search", "") %>&words=<%= params.getOrDefault("words", "") %>">Previous</a>
            </li>
              <% for(int i=paginations.getBlockStart();i <=paginations.getBlockEnd(); i=i+1){ %>
                <li class="page-item">
                  <a class="page-link" href="/adminproduct/selectSearch?currentPage=<%= i %>&search=<%= params.getOrDefault("search", "") %>&words=<%= params.getOrDefault("words", "") %>">
                    <%= i %>
                  </a>
                </li>
                <% } %>
                <li class="page-item">
                  <a class="page-link" href="/adminproduct/selectSearch?currentPage=<%= paginations.getNextPage() %>&search=<%= params.getOrDefault("search", "") %>&words=<%= params.getOrDefault("words", "") %>">Next</a>
                </li> 
            </ul>
          </nav>
        </div>

        //ì œí’ˆ ì¶”ê°€í•˜ê¸°
        public Object insert(Map dataMap) {
            String sqlMapId = "Adminproduct.insert";
            if (dataMap.get("PRODUCT_UID") == null || dataMap.get("PRODUCT_UID").equals("")) {
              
                String uuid = commons.generateUUID(); // user_id ë°›ê¸° (ìˆ˜ì •)
                dataMap.put("PRODUCT_UID", uuid);
                dataMap.put("USER_ID", commons.getUserID()); 
            } else {
                
            }
            
            Object result_1 = sharedDao.insert(sqlMapId, dataMap);
            HashMap result = (HashMap) this.selectWithPagination(dataMap);
            return result;
        
        }    
}

```

ë¦¬íˆ¬ë¦¬ í”„ë¡œì íŠ¸ì—ì„œ ê²€ìƒ‰ê³¼ ì‹œì„¸ ê¸°ëŠ¥ì„ ë§¡ì•˜ìŠµë‹ˆë‹¤. ì œê°€ ìƒê°í–ˆë˜ êµ¬í˜„ì˜ ì¤‘ì ì€ ì—¬ëŸ¬ í…Œì´ë¸”ë¡œ ë¶„ë¦¬ëœ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë¶„ë¥˜í•˜ê³  ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í”„ë¡œì íŠ¸ë¥¼ ì™„ë£Œí•˜ë©´ì„œ ë¶ˆëŸ¬ì˜¨ ì°¨ëŸ‰ ë°ì´í„°ì— ëŒ€í•œ ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë¶ˆí•„ìš”í•œ ë°ì´í„°ë² ì´ìŠ¤ í˜¸ì¶œì´ ë§ì•„ì ¸ì„œ ì„±ëŠ¥ì´ ì €í•˜ë˜ì—ˆë‹¤ëŠ” ê²ƒì´ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒí•œ ì´ìœ ëŠ” ì²˜ìŒë¶€í„° ìë°” ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ, SQL ë¬¸ì„ ê³ ë ¤í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì‚¬ì „ì— ê³ ë ¤í•˜ê³  SQL ë¬¸ì—ì„œ í•œ ë²ˆì˜ í˜¸ì¶œë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í–ˆë‹¤ë©´, ì„±ëŠ¥ ì €í•˜ ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆì—ˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ì„œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ë” ë‹¤ì–‘í•œ ìƒí™©ì— ëŒ€í•œ ëŒ€ì²˜ì™€ ê³ ë ¤ì ì´ í•„ìš”í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.

### ğŸ‘ ì˜¤ê°€ë°°

```
        List surveyMapList = new ArrayList<Map>();
        for (String questionId : dataMap.keySet()) {
            Map<String, String> questionAnswerMap = new HashMap<>();
            String answerId = (String) dataMap.get(questionId);
            questionAnswerMap.put("QuestionId", questionId);
            questionAnswerMap.put("AnswerId", answerId);
            questionAnswerMap.put("SURVEY_ID", this.generateUUID());
            surveyMapList.add(questionAnswerMap);
        }
        dataMap.put("surveyMapList", surveyMapList);
        // ë¶€ëª¨í…Œì´ë¸” ê°’ insert ë¨¼ì € ì‹œí‚¤ê¸° 
        String SURVEY_UID = UUID.randomUUID().toString(); 
        dataMap.put("USER_ID", commons.getUserID()); // user_id ë°›ê¸°
        dataMap.put("SURVEY_UID", SURVEY_UID);
        dataMap.put("DATE_TIME", new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date()));
        String sqlMapId = "SurveyService.insertsurveyresult";
        Object result01 = sharedDao.insert(sqlMapId, dataMap);

        // ìì‹í…Œì´ë¸” insert

        dataMap.put("SURVEY_TYPE_ID", "F-01");
        sqlMapId = "SurveyService.insertsurvey";
        Object resultMap = sharedDao.insert(sqlMapId, dataMap);
        //String uuid = this.generateUUID();
        return dataMap;

```

ì„¤ë¬¸ì¡°ì‚¬ ê²°ê³¼ê°’ì„ DBì— ë„£ëŠ” ê³¼ì •ì—ì„œ NAMEê³¼ VALUEê°’ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ë²•ê³¼ DBì— INSERTë¥¼ ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” 
ë¶€ëª¨í…Œì´ë¸”ì„ ë¨¼ì € insertë¥¼ ì‹œì¼œì•¼ ìì‹í…Œì´ë¸”ì— insertê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì„ í™•ì‹¤íˆ ì¸ì§€í•˜ì˜€ìŠµë‹ˆë‹¤. 
ë”ë¶ˆì–´ ì°¸ì¡° ë°›ì€ fkê°’ì¸ SURVEY_UIDëŠ” UUIDë¡œ ë°›ëŠ”ë° ë™ì¼í•œ UUIDì„ì„ ì¸ì§€ì‹œì¼œì¤˜ì•¼ ë¶€ëª¨í…Œì´ë¸” ë° ìì‹í…Œì´ë¸”ì´ insertê°€ ëœë‹¤ëŠ” ì ì„ í†µí•´ 
ERDë¥¼ ëª…í™•í•˜ê²Œ ì´í•´í•´ì•¼ ë‚˜ë¨¸ì§€ ì½”ë“œë¥¼ ì¡°ê¸ˆ ë” ìˆ˜ì›”í•˜ê²Œ ì§„í–‰í•´ ë‚˜ê°ˆ ìˆ˜ ìˆìŒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. 
ë§ˆì§€ë§‰ìœ¼ë¡œ íŒ€ì›ë¶„ë“¤ê³¼ ì›í™œí•œ ì†Œí†µ ë•ë¶„ì— ì¡°ê¸ˆ ë” ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•´ ë‚˜ê°ˆ ìˆ˜ ìˆì—ˆìŒì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤!! 
