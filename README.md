# '9998' Final Project

## ğŸ“ƒì½˜í…ì¸  : ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ì¶”ì²œ ì‚¬ì´íŠ¸ 

### âœ”ï¸í”„ë¡œì íŠ¸ ì„¤ëª…
ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì²´ ì¶”ì²œ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“¤ì–´ ë‹¬ë¼ëŠ” ì˜ë¢°ë¥¼ ë°›ì•„ êµ¬í˜„í•œ ì‚¬ì´íŠ¸ 
ì‚¬ì´íŠ¸ë¥¼ ì´ìš©ê°ì˜ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ê¸°ë°˜í•œ ìˆœìœ„ë¥¼ í†µí•´ ë³´ì¡°ì œë¥¼ ì¶”ì²œë°›ì„ ìˆ˜ ìˆìœ¼ë©° ì›í•˜ëŠ” ë³´ì¡°ì œë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤. 
ë”ë¶ˆì–´ ë§ˆì´í˜ì´ì§€, ê´€ë¦¬ìí˜ì´ì§€ë¥¼ í†µí•´ ì›í™œí•œ ê´€ë¦¬ê°€ ë  ìˆ˜ ìˆê²Œë” êµ¬í˜„í•˜ì˜€ë‹¤.

### âœ”ï¸ì‚¬ìš© ê¸°ìˆ 

<img src="https://img.shields.io/badge/Java-3178C6?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat&logo=JavaScript&logoColor=white"/> <img src="https://img.shields.io/badge/SpringBoot-6DB33F?style=flat&logo=Spring Boot&logoColor=white"/> <img src="https://img.shields.io/badge/MySQL-4479A1?style=flat&logo=MySQL&logoColor=white"/> <img src="https://img.shields.io/badge/Bootstrap-7952B3?style=flat&logo=Bootstrap&logoColor=white"/> <img src="https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=HTML5&logoColor=white"/> <img src="https://img.shields.io/badge/CSS-1572B6?style=flat&logo=CSS3&logoColor=white"/> <img src="https://img.shields.io/badge/MyBatis-4479A1?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/JSP Servlet-C5E99B?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/GoormIDE-D4DFE6?style=flat&logo=&logoColor=white"/>

### âœ”ï¸ê°œë°œ ê¸°ê°„

- 2023ë…„ 7ì›” 7ì¼~ 2023ë…„ 7ì›” 31ì¼

### âœ”ï¸êµ¬í˜„ ì˜ìƒ

- [ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ êµ¬í˜„ ì˜ìƒ](https://www.youtube.com/watch?v=eFJFn9SuabQ)

### âœ”ï¸êµ¬í˜„ í™”ë©´

<img src="src/main/resources/static/images/í™”ë©´ì •ì˜ì„œ.png" width="800"> 
<img src="src/main/resources/static/images/í™”ë©´ì •ì˜ì„œ.png" width="800"> <!--í•´ì•¼í•¨ -->


### âœ”ï¸ERD

- [ERD](https://github.com/hhyowon/project_supplements/blob/main/Docs/Databases/ERD.png) 

### âœ”ï¸íŒ€ì› ë° êµ¬í˜„ ê¸°ëŠ¥

### ğŸ‘©â€ğŸ’» ê¹€ëª…ê³¤

<details>
<summary>íšŒì›ê°€ì…</summary>

- [SignMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/CarDetailMapper.xml)
- [SignController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/Car_detailController.java)
- [SignService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/CarDetailMapper.xml)
</details>

<details>
<summary>ë¡œê·¸ì¸</summary>

- [CarRegMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/CarRegMapper.xml)
- [LoginController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/CarRegController.java)
- [CarRegService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/CarDetailMapper.xml)
</details>

<details>
<summary>ê¶Œí•œ ì„¤ì • </summary>
  
 - [PrincipalUser.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/configurations/PrincipalUser.java)
 - [SecurityConfiguraion.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/configurations/SecurityConfiguraion.java)

  
</details>

<details>
<summary>ìƒ˜í”Œ ì½”ë“œ </summary>
  
 - [PrincipalUser.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/configurations/PrincipalUser.java)
 - [SecurityConfiguraion.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/configurations/SecurityConfiguraion.java)

  
</details>

### ğŸ‘©â€ğŸ’» ì†¡ëª…ì£¼

<details>
<summary>ì„¤ë¬¸ì¡°ì‚¬ í†µê³„</summary>

- [SurveryResultMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/LoginMapper.xml)
- [SurveyResultController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/LoginController.java)
- [SurveyResultService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/RegisterService.java)

</details>

<details>
<summary>ë­í‚¹</summary>

- [SurveyRankMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/RegisterMapper.xml)
- [RankController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/RegisterController.java)
- [RankService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/RegisterService.java)

</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ ì„¤ë¬¸ ì´ë ¥</summary>

- [UserInfoAdminMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/UserInfoAdminMapper.xml)
- [UserInfoAdminController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/UserInfoAdminController.java)
- [UserInfoAdminService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/UserInfoAdminService.java)

</details>

<details>
<summary>ê´€ë¦¬ì í˜ì´ì§€ ì„¤ë¬¸ ì´ë ¥</summary>

- [UserInfoAdminMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/UserInfoAdminMapper.xml)
- [UserInfoAdminController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/UserInfoAdminController.java)
- [UserInfoAdminService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/UserInfoAdminService.java)

</details>

### ğŸ‘©â€ğŸ’» ì¡°íš¨ì›

<details>
<summary>ë©”ì¸í˜ì´ì§€</summary>

- [CheckPriceMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/CheckPriceMapper.xml)
- [MainController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/CheckPriceController.java)
- [CheckPriceService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/CheckPriceService.java)

</details>

<details>
<summary>BMI í˜ì´ì§€</summary>

- [BmiMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/SearchMapper.xml)
- [BMIController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/SearchController.java)
- [BmiSerivce.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/SearchService.java)

</details>

<details>
<summary>ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ê²€ìƒ‰</summary>

- [SearchMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/DealerMapper.xml)
- [SearchController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/DealerController.java)
- [SearchService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/DealerService.java)
</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ ë³´ì¡°ì œ ê´€ë¦¬</summary>

- [NoticeMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/NoticeMapper.xml)
- [NoticeController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/NoticeController.java)
- [NoticeService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/NoticeService.java)

</details>

<details>
<summary>ê´€ë¦¬ìí˜ì´ì§€ íšŒì› ê´€ë¦¬</summary>

- [AdminMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/NoticeMapper.xml)
- [AdminController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/NoticeController.java)
- [AdminService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/NoticeService.java)

</details>

<details>
<summary>ê´€ë¦¬ìí˜ì´ì§€ ë³´ì¡°ì œ ê´€ë¦¬</summary>

- [AdminProductMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/NoticeMapper.xml)
- [AdminProductsController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/NoticeController.java)
- [AdminProductsService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/NoticeService.java)

</details>


### ğŸ‘©â€ğŸ’» ì˜¤ê°€ë°° 

<details>
<summary>ì„¤ë¬¸ì¡°ì‚¬ ì§„í–‰ í˜ì´ì§€</summary>

- [SurveyMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/SurveyMapper.xml)
- [SurveyController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/SurveyController.java)
- [SurveyService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SurveyService.java)

</details>

<details>
<summary>ì»¤ë®¤ë‹ˆí‹°</summary>

- [CommunityMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/CommunityMapper.xml)
- [CommunityController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/CommunityController.java)
- [CommunityService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/CommunityService.java)
</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ íšŒì›ì •ë³´ ìˆ˜ì • </summary>

- [MypageMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/MypageMapper.xml)
- [MypageController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/MypageController.java)
- [MypageService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/MypageService.java)

</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ </summary>

- [MypageMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/MypageMapper.xml)
- [MypageController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/MypageController.java)
- [MypageService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/MypageService.java)

</details>

<details>
<summary>ê´€ë¦¬ì í˜ì´ì§€ ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ </summary>

- [AdminCommunityMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/AdminCommunityMapper.xml)
- [AdminCommunityControll.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/AdminCommunityControll.java)
- [AdminCommunityService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/AdminCommunityService.java)

</details>

### âœ”ï¸ì£¼ìš”ì½”ë“œ ë° ì§„í–‰ í†µí•´ ëŠë‚€ ì 

### ğŸ‘ ê¹€ëª…ê³¤

```
    String[] imgFiles = {"Front", "Side", "Inside", "Tire", "Navi", "Trunk"};
    int idx = 0;


     * ì´ë¯¸ì§€íŒŒì¼ insert
    attachfile = new HashMap<>();
    attachfile.put("ATTACHFILE_SEQ", commonUtils.getUniqueSequence());
    attachfile.put("SOURCE_UNIQUE_SEQ", params.get("CAR_ID"));
    attachfile.put("ORIGINALFILE_NAME", originalFileName);
    attachfile.put("PHYSICALFILE_NAME", physicalFileName);
    attachfile.put("IMG_INFO", imgFiles[idx]);
    idx = idx + 1;

    attachfiles.add(attachfile);


     * ì´ë¯¸ì§€íŒŒì¼ select
    String[] imgFiles = {"Front", "Side", "Inside", "Tire", "Navi", "Trunk"};

    for(int i = 0; i < imgFiles.length; i++) {
      ((Map<String, Object>) dataMap).put("IMG_INFO", imgFiles[i]);
      result = carDetailDao.getOne(sqlMapId, dataMap);
      String fileName = (String)(((Map<String, Object>)result).get("ORIGINALFILE_NAME"));

      results.put(imgFiles[i], fileName);
      }


```

ì €ëŠ” ì°¨ëŸ‰ ìƒì„¸í˜ì´ì§€ì™€ ì°¨ëŸ‰ ì‹ ê·œ ë“±ë¡ ë° íŒë§¤ ê´€ë¦¬ ë“±ì´ ìˆëŠ” ë”œëŸ¬ ê¸°ëŠ¥ í˜ì´ì§€ë¥¼ ë§¡ì•˜ìŠµë‹ˆë‹¤.

ë°±ì—”ë“œ êµ¬í˜„ì„ ì‹œì‘í• ë•Œ ì œê°€ ê±±ì •í–ˆë˜ ê±´ ì°¨ëŸ‰ ì‹ ê·œ ë“±ë¡ ì‹œ ì´ë¯¸ì§€ ì²¨ë¶€ ë¶€ë¶„ì´ì—ˆìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ê¸°ë§Œ í•´ë„ ì–´ë ¤ìš´ë°, ì°¨ëŸ‰ í•˜ë‚˜ì— ì´ë¯¸ì§€ 6ê°œë¥¼ ì²¨ë¶€ë°›ì•„ì„œ ì €ì¥í•˜ê³ , ê·¸ê±¸ ìƒì„¸í˜ì´ì§€ì—ì„œ í•­ëª©ì— ë§ê²Œ ë¶ˆëŸ¬ì™€ì•¼ í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì €ëŠ” í•­ëª©ì— ë§ê²Œ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ CAR_IMG í…Œì´ë¸”ì„ ìƒˆë¡œ ë§Œë“¤ì—ˆê³ , IMG_INFO ë°°ì—´ì„ ë§Œë“¤ì–´ ì´ë¯¸ì§€ë¥¼ í•­ëª©ì— ë§ê²Œ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì„±ê³µí–ˆìŠµë‹ˆë‹¤.

íŒŒì´ë„ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ jspì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ, ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì„œë¹„ìŠ¤, ì„œë¹„ìŠ¤ì—ì„œ ë‹¤ì‹œ ì»¨íŠ¸ë¡¤ëŸ¬, jspê¹Œì§€ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê³  ë°›ìœ¼ë©° MVC íŒ¨í„´ì„ ë” ì˜ ì´í•´í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë˜, í˜‘ì—…í•˜ëŠ” ìƒí™©ì—ì„œ ì´ˆë°˜ ERD ì‘ì„±ì´ ì •ë§ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì—¬íƒœ ì§„í–‰í–ˆë˜ íŒ€í”„ë¡œì íŠ¸ì™€ëŠ” ê·œëª¨ê°€ ë‹¬ë¼ì„œ ë” ì˜¤ë˜ê±¸ë¦¬ê³ , ë” ê³ ë¯¼í•˜ëŠ” ì‹œê°„ì´ ê¸¸ì—ˆì§€ë§Œ ì‹œê°„ì„ ë“¤ì¸ ë§Œí¼ êµ¬í˜„í•´ëƒˆì„ë•Œì˜ ì„±ì·¨ê°ë„ í¬ê²Œ ëŠë‚„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

### ğŸ‘ ì†¡ëª…ì£¼

```
    @Override
    public Collection<? extends GrantedAuthority> getAuthorities() {

        Collection<GrantedAuthority> collections = new ArrayList<>();
        String authority = (String) userInfo.get("AUTH");
        if (StringUtils.hasText(authority)) {
            collections.add(new SimpleGrantedAuthority(authority));
        } else {
            collections.add(new SimpleGrantedAuthority("ROLE_ANONYMOUS"));
        }
        return collections;
    }
```

ë¡œê·¸ì¸ì„ ìœ„í•´ ì‹œíë¦¬í‹°ë¥¼ ì ìš©í•  ë•Œ ì¸ì¦ëœ ì‚¬ìš©ìê°€ ê°€ì§„ ê¶Œí•œ ì •ë³´ë¥¼ collectionsì— ë‹´ì•„ ë°˜í™˜í•˜ëŠ” ê³¼ì •ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ êµ¬í˜„í•˜ëŠ” ë°ì— ìˆì–´ ì‹œê°„ì´ ìƒë‹¹íˆ ê±¸ë¦¬ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬í•˜ì—¬ ifë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œ ì •ë³´ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš° ê¶Œí•œ ì •ë³´ë¥¼ collectionsì— ì¶”ê°€í•˜ê³  ê¶Œí•œ ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° ê¸°ë³¸ ê¶Œí•œ ì •ë³´ë¥¼ collectionsì— ì¶”ê°€í•˜ì—¬ ì¸ì¦ëœ ì‚¬ìš©ìì˜ ê¶Œí•œ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” Collectionì„ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•´ ë‚¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

ì½”ë“œë¥¼ êµ¬í˜„í•˜ë‹¤ ë³´ë©´ ë‚˜ ìì‹ ì´ êµ¬í˜„í•œ ì½”ë“œë°–ì— ì•Œì§€ ëª»í•´ êµ¬í˜„ ë°©ì‹ì— í•œê³„ê°€ ìƒê¸¸ ìˆ˜ë°–ì— ì—†ëŠ”ë° íŒ€ì›ë“¤ì´ êµ¬í˜„í•œ ë‹¤ì–‘í•œ ë°©ì‹ì˜ ì½”ë“œë¥¼
ë³´ë©´ì„œ "ì´ê±¸ ì´ëŸ° ì‹ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ê°€ ìˆêµ¬ë‚˜", "ì´ë ‡ê²Œë„ ê°€ëŠ¥í•˜êµ¬ë‚˜"ë¼ë©° ë‹¤ì‹œ í•œë²ˆ ë°°ìš¸ ìˆ˜ ìˆì—ˆë˜ ê¸°íšŒê°€ ë˜ì—ˆê³  í‰ì†Œì— ì „í˜€ ì•Œì§€ ëª»í–ˆë˜ ì‚¬ìš©ë°©ì‹, ê¸°ëŠ¥ë“¤ì„ íŒŒì´ë„í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ì•Œê²Œ ë˜ì–´ ë§¤ìš° ì˜ë¯¸ ìˆëŠ” ì‹œê°„ì´ ë˜ì—ˆìœ¼ë©° íŒ€ì›ë“¤ê³¼ í•¨ê»˜ í˜‘ë™í•˜ì—¬ ì½”ë“œë¥¼ ê³µìœ í•˜ë©° ì˜¤ë¥˜ë¥¼ ì¡ì•„ êµ¬í˜„ë˜ì§€ ì•Šì•˜ë˜ ì½”ë“œë“¤ì´ êµ¬í˜„ë˜ì–´ í™”ë©´ì— ì¶œë ¥ë˜ëŠ” ê²ƒì— ë§¤ìš° ë¿Œë“¯í•˜ì˜€ìœ¼ë©° í˜ì´ ë“¤ì—ˆë˜ ë§Œí¼ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ê²°ê³¼ë¬¼ì„ ì–»ê²Œ ë˜ì–´ ë”ìš± ë‚˜ ìì‹ ì„
í•œì¸µ ì„±ì¥ì‹œí‚¤ê²Œ ë˜ì—ˆë˜ ê¸°ê°„ì´ì—ˆë˜ ê±° ê°™ë‹¤.

### ğŸ‘ ì¡°íš¨ì›

```

            for( Map<String, Object> list :(ArrayList<Map<String, Object>>)resultMap){
                Map<String, Object> car_id = new HashMap<>();
                car_id.put("SOURCE_UNIQUE_SEQ", list.get("CAR_ID"));
                Object carImgs = searchService.selectCarImg(car_id);
                (((ArrayList<Map<String, Object>>)resultMap).get(i)).put("carImgs", (Map<String, Object>)carImgs);
                i++;
            }

```

ë¦¬íˆ¬ë¦¬ í”„ë¡œì íŠ¸ì—ì„œ ê²€ìƒ‰ê³¼ ì‹œì„¸ ê¸°ëŠ¥ì„ ë§¡ì•˜ìŠµë‹ˆë‹¤. ì œê°€ ìƒê°í–ˆë˜ êµ¬í˜„ì˜ ì¤‘ì ì€ ì—¬ëŸ¬ í…Œì´ë¸”ë¡œ ë¶„ë¦¬ëœ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë¶„ë¥˜í•˜ê³  ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í”„ë¡œì íŠ¸ë¥¼ ì™„ë£Œí•˜ë©´ì„œ ë¶ˆëŸ¬ì˜¨ ì°¨ëŸ‰ ë°ì´í„°ì— ëŒ€í•œ ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë¶ˆí•„ìš”í•œ ë°ì´í„°ë² ì´ìŠ¤ í˜¸ì¶œì´ ë§ì•„ì ¸ì„œ ì„±ëŠ¥ì´ ì €í•˜ë˜ì—ˆë‹¤ëŠ” ê²ƒì´ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒí•œ ì´ìœ ëŠ” ì²˜ìŒë¶€í„° ìë°” ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ, SQL ë¬¸ì„ ê³ ë ¤í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì‚¬ì „ì— ê³ ë ¤í•˜ê³  SQL ë¬¸ì—ì„œ í•œ ë²ˆì˜ í˜¸ì¶œë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í–ˆë‹¤ë©´, ì„±ëŠ¥ ì €í•˜ ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆì—ˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ì„œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ë” ë‹¤ì–‘í•œ ìƒí™©ì— ëŒ€í•œ ëŒ€ì²˜ì™€ ê³ ë ¤ì ì´ í•„ìš”í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.

### ğŸ‘ ì˜¤ê°€ë°°

```
        List surveyMapList = new ArrayList<Map>();
        for (String questionId : dataMap.keySet()) {
            Map<String, String> questionAnswerMap = new HashMap<>();
            String answerId = (String) dataMap.get(questionId);
            questionAnswerMap.put("QuestionId", questionId);
            questionAnswerMap.put("AnswerId", answerId);
            questionAnswerMap.put("SURVEY_ID", this.generateUUID());
            surveyMapList.add(questionAnswerMap);
        }
        dataMap.put("surveyMapList", surveyMapList);
        // ë¶€ëª¨í…Œì´ë¸” ê°’ insert ë¨¼ì € ì‹œí‚¤ê¸° 
        String SURVEY_UID = UUID.randomUUID().toString(); 
        dataMap.put("USER_ID", commons.getUserID()); // user_id ë°›ê¸°
        dataMap.put("SURVEY_UID", SURVEY_UID);
        dataMap.put("DATE_TIME", new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date()));
        String sqlMapId = "SurveyService.insertsurveyresult";
        Object result01 = sharedDao.insert(sqlMapId, dataMap);

        // ìì‹í…Œì´ë¸” insert

        dataMap.put("SURVEY_TYPE_ID", "F-01");
        sqlMapId = "SurveyService.insertsurvey";
        Object resultMap = sharedDao.insert(sqlMapId, dataMap);
        //String uuid = this.generateUUID();
        return dataMap;

```

ì„¤ë¬¸ì¡°ì‚¬ ê²°ê³¼ê°’ì„ DBì— ë„£ëŠ” ê³¼ì •ì—ì„œ NAMEê³¼ VALUEê°’ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ë²•ê³¼ DBì— INSERTë¥¼ ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” 
ë¶€ëª¨í…Œì´ë¸”ì„ ë¨¼ì € insertë¥¼ ì‹œì¼œì•¼ ìì‹í…Œì´ë¸”ì— insertê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì„ í™•ì‹¤íˆ ì¸ì§€í•˜ì˜€ìŠµë‹ˆë‹¤. 
ë”ë¶ˆì–´ ì°¸ì¡° ë°›ì€ fkê°’ì¸ SURVEY_UIDëŠ” UUIDë¡œ ë°›ëŠ”ë° ë™ì¼í•œ UUIDì„ì„ ì¸ì§€ì‹œì¼œì¤˜ì•¼ ë¶€ëª¨í…Œì´ë¸” ë° ìì‹í…Œì´ë¸”ì´ insertê°€ ëœë‹¤ëŠ” ì ì„ í†µí•´ 
ERDë¥¼ ëª…í™•í•˜ê²Œ ì´í•´í•´ì•¼ ë‚˜ë¨¸ì§€ ì½”ë“œë¥¼ ì¡°ê¸ˆ ë” ìˆ˜ì›”í•˜ê²Œ ì§„í–‰í•´ ë‚˜ê°ˆ ìˆ˜ ìˆìŒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. 
ë§ˆì§€ë§‰ìœ¼ë¡œ íŒ€ì›ë¶„ë“¤ê³¼ ì›í™œí•œ ì†Œí†µ ë•ë¶„ì— ì¡°ê¸ˆ ë” ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•´ ë‚˜ê°ˆ ìˆ˜ ìˆì—ˆìŒì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤!! 