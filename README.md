# '9998' Final Project
<img src="src/main/resources/static/html/img/logo.PNG" width="600"> 

<<<<<<< HEAD
<div style="text-align: center;">
  <img src="src/main/resources/static/html/img/logo.PNG" width="600" alt="Logo">
</div>


 
## ğŸ“ƒì½˜í…ì¸  : ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ì¶”ì²œ ì‚¬ì´íŠ¸ 
 <strong>í™ˆí˜ì´ì§€ ì´ìš©ê°ì˜ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ê¸°ë°˜í•˜ì—¬ ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œë¥¼ ì¶”ì²œí•´ì£¼ëŠ” ì›¹ ì‚¬ì´íŠ¸ ì…ë‹ˆë‹¤.</strong>

### ì›¹ ì‚¬ì´íŠ¸ ì£¼ì†Œ
- url
### í”„ë¡œì íŠ¸ ë°œí‘œ
- ìˆ˜ì£¼ì œì•ˆì„œ : https://drive.google.com/file/d/1YmUQKVRzeXReqGQ6nQSMrjkwI1SmuzNg/view?usp=drive_link
- í”„ë¡œì íŠ¸ ìµœì¢… ë°œí‘œ : https://drive.google.com/file/d/1mFkEl9tV1wHMJ0vzZ83fXcrRsaOoLc9t/view?usp=drive_link
 
### âœ”ï¸í”„ë¡œì íŠ¸ ì„¤ëª…
ì½”ë¡œë‚˜ ì´í›„ ë‹¤ì´ì–´íŠ¸ì—ëŒ€í•œ ê´€ì‹¬ë„ê°€ ì¦ê°€í•˜ë©´ì„œ ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œì—ëŒ€í•œ ê´€ì‹¬ë„ ë˜í•œ ì¦ê°€í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ì— ê¸°ë°˜í•˜ì—¬ ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ì¶”ì²œ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“¤ê³  ì‹¶ì–´í•˜ëŠ” ì˜ë¢°íŒ€ì˜ í”„ë¡œì íŠ¸ë¥¼ ë‹´ë‹¹í•˜ê²Œ ë˜ì–´ êµ¬í˜„í•œ ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤. ì¼ë°˜ì ì¸ ì¶”ì²œ ì‚¬ì´íŠ¸ì™€ ë‹¤ë¥´ê²Œ ì‚¬ì´íŠ¸ ì´ìš©ê°ì˜ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë³´ì¡°ì œë¥¼ ì¶”ì²œí•´ ì£¼ëŠ” ì‚¬ì´íŠ¸ë¡œ ë”ìš± ì‹ ë¢°ë„ ë†’ì€ ë³´ì¡°ì œë¥¼ ì¶”ì²œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

#### ğŸ“Œ í”„ë¡œì íŠ¸ ì£¼ìš” ê¸°ëŠ¥ 
- ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ê¸°ë°˜í•œ ë³´ì¡°ì œ ì¶”ì²œ ë­í‚¹
- ì œí˜• ë° íš¨ê³¼ë³„ ë³´ì¡°ì œ ê²€ìƒ‰ ê¸°ëŠ¥
- ì§ˆë¬¸, í›„ê¸° ë° ì¶”ì²œê¸€ ê³µìœ ê°€ ê°€ëŠ¥í•œ ì»¤ë®¤ë‹ˆí‹°
- ê³¼ê±° ì„¤ë¬¸ì •ë³´ ë“± ë‚˜ì˜ ê¸°ë¡ì„ ì €ì¥í•˜ëŠ” ë§ˆì´í˜ì´ì§€
- ë³´ì¡°ì œ í™ˆí˜ì´ì§€ë¥¼ ì›í™œí•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ê´€ë¦¬ìí˜ì´ì§€




### âœ”ï¸ì‚¬ìš© ê¸°ìˆ 

<img src="https://img.shields.io/badge/Java-3178C6?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat&logo=JavaScript&logoColor=white"/> <img src="https://img.shields.io/badge/SpringBoot-6DB33F?style=flat&logo=Spring Boot&logoColor=white"/> <img src="https://img.shields.io/badge/MySQL-4479A1?style=flat&logo=MySQL&logoColor=white"/> <img src="https://img.shields.io/badge/Bootstrap-7952B3?style=flat&logo=Bootstrap&logoColor=white"/> <img src="https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=HTML5&logoColor=white"/> <img src="https://img.shields.io/badge/CSS-1572B6?style=flat&logo=CSS3&logoColor=white"/> <img src="https://img.shields.io/badge/MyBatis-4479A1?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/JSP Servlet-C5E99B?style=flat&logo=&logoColor=white"/> <img src="https://img.shields.io/badge/GoormIDE-D4DFE6?style=flat&logo=&logoColor=white"/>

### âœ”ï¸ê°œë°œ ê¸°ê°„

- 2023ë…„ 7ì›” 7ì¼~ 2023ë…„ 7ì›” 31ì¼

### âœ”ï¸êµ¬í˜„ ì˜ìƒ

- [ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ êµ¬í˜„ ì˜ìƒ](https://www.youtube.com/watch?v=eFJFn9SuabQ)

### âœ”ï¸êµ¬í˜„ í™”ë©´

<img src="src/main/resources/static/images/í™”ë©´ì •ì˜ì„œ.png" width="800"> 
<img src="src/main/resources/static/images/í™”ë©´ì •ì˜ì„œ2.png" width="800"> 


### âœ”ï¸ERD
- [ERD](https://github.com/hhyowon/project_supplements/blob/main/Docs/Databases/ERD.png) 

### âœ”ï¸íŒ€ì› ë° êµ¬í˜„ ê¸°ëŠ¥

### ğŸ‘©â€ğŸ’» ê¹€ëª…ê³¤

<details>
<summary>Sample Code</summary>

- [SecurityConfiguration.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/configs/SecurityConfiguration.java)
- [SampleController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/SampleController.java)
- [SampleService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SampleService.java)
- [DietMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/DietMapper.xml)
- [Header.jsp](https://github.com/hhyowon/project_supplements/blob/main/src/main/webapp/WEB-INF/views/etc/Header.jsp)
- [Footer.jsp](https://github.com/hhyowon/project_supplements/blob/main/src/main/webapp/WEB-INF/views/etc/Footer.jsp)
- [list_map_ex.jsp](https://github.com/hhyowon/project_supplements/blob/main/src/main/webapp/WEB-INF/views/etc/list_map_ex.jsp)
</details>

<details>
<summary>ë¡œê·¸ì¸</summary>

- [LoginController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/LoginController.java)
- [SignController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/SignController.java)
- [SignService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SignService.java)

</details>

<details>
<summary>ê¶Œí•œ ì„¤ì • </summary>
  
 - [PrincipalUser.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/security/PrincipalUser.java)
 - [PrincipalUserService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/security/PrincipalUserService.java)
 - [AuthsService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/AuthsService.java)
 - [SecurityConfiguraion.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/configs/SecurityConfiguration.java)
  
</details>


### ğŸ‘©â€ğŸ’» ì†¡ëª…ì£¼

<details>
<summary>ì„¤ë¬¸ì¡°ì‚¬ í†µê³„</summary>

- [SurveryResultMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/SurveryResultMapper.xml)
- [SurveyResultController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/LoginController.java)
- [SurveyResultService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SurveyResultService.java)

</details>

<details>
<summary>ë­í‚¹</summary>

- [SurveyRankMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/SurveyRankMapper.xml)
- [RankController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/RegisterController.java)
- [RankService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/RankService.java)

</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ ì„¤ë¬¸ ì´ë ¥</summary>

- [UserInfoAdminMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/UserInfoAdminMapper.xml)
- [UserInfoAdminController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/UserInfoAdminController.java)
- [UserInfoAdminService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/UserInfoAdminService.java)

</details>

<details>
<summary>ê´€ë¦¬ì í˜ì´ì§€ ì„¤ë¬¸ ì´ë ¥</summary>

- [UserInfoAdminMapper.xml](https://github.com/HNNNY35/final_retoree/blob/master/src/main/resources/sqlmapper/mysql/UserInfoAdminMapper.xml)
- [UserInfoAdminController.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/controller/UserInfoAdminController.java)
- [UserInfoAdminService.java](https://github.com/HNNNY35/final_retoree/blob/master/src/main/java/com/project/final_retoree/services/UserInfoAdminService.java)

</details>

### ğŸ‘©â€ğŸ’» ì¡°íš¨ì›

<details>
<summary>ë©”ì¸í˜ì´ì§€</summary>

- [MainController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/MainController.java)

</details>

<details>
<summary>BMI í˜ì´ì§€</summary>

- [BmiMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/BmiMapper.xml)
- [BMIController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/BMIController.java)
- [BmiSerivce.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/BmiSerivce.java)

</details>

<details>
<summary>ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ê²€ìƒ‰</summary>

- [SearchMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/SearchMapper.xml)
- [SearchController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/SearchController.java)
- [SearchService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SearchService.java)
</details>

<details>
<summary>ì»¤ë®¤ë‹ˆí‹°</summary>

- [CommunityMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/CommunityMapper.xml)
- [CommunityController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/CommunityController.java)
- [CommunityService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/CommunityService.java)
</details>

<details>
<summary>ê´€ë¦¬ìí˜ì´ì§€ íšŒì› ê´€ë¦¬</summary>

- [AdminMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/AdminMapper.xml)
- [AdminController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/AdminController.java)
- [AdminService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/AdminService.java)

</details>

<details>
<summary>ê´€ë¦¬ìí˜ì´ì§€ ë³´ì¡°ì œ ê´€ë¦¬</summary>

- [AdminProductMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/AdminProductMapper.xml)
- [AdminProductsController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/AdminProductsController.java)
- [AdminProductsService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/AdminProductsService.java)

</details>


### ğŸ‘©â€ğŸ’» ì˜¤ê°€ë°° 

<details>
<summary>ì„¤ë¬¸ì¡°ì‚¬ ì§„í–‰ í˜ì´ì§€</summary>

- [SurveyMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/SurveyMapper.xml)
- [SurveyController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/SurveyController.java)
- [SurveyService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/SurveyService.java)

</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ íšŒì›ì •ë³´ ìˆ˜ì • </summary>

- [MypageMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/MypageMapper.xml)
- [MypageController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/MypageController.java)
- [MypageService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/MypageService.java)

</details>

<details>
<summary>ë§ˆì´í˜ì´ì§€ ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ </summary>

- [MypageMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/MypageMapper.xml)
- [MypageController.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/MypageController.java)
- [MypageService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/MypageService.java)

</details>

<details>
<summary>ê´€ë¦¬ì í˜ì´ì§€ ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬ </summary>

- [AdminCommunityMapper.xml](https://github.com/hhyowon/project_supplements/blob/main/src/main/resources/sqlmapper/mysql/AdminCommunityMapper.xml)
- [AdminCommunityControll.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/controller/AdminCommunityControll.java)
- [AdminCommunityService.java](https://github.com/hhyowon/project_supplements/blob/main/src/main/java/com/example/project_supplements/service/AdminCommunityService.java)

</details>

### âœ”ï¸ì£¼ìš”ì½”ë“œ ë° ì§„í–‰ í†µí•´ ëŠë‚€ ì 

### ğŸ‘ ê¹€ëª…ê³¤

```
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags" %>
<sec:authorize access="isAuthenticated()">
<sec:authorize access="hasRole('ROLE_ADMIN')">
<sec:authorize access="isAuthenticated()">
@Configuration
@EnableWebSecurity
public class SecurityConfiguration {
    @Bean
        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {
                // None using csrf protection
                httpSecurity.csrf().disable();
                // ê¶Œí•œì— ëŒ€í•œ ë¶€ë¶„ : url & roles : user url & roles
                // url, roles from Dao
                httpSecurity.authorizeHttpRequests() // ë¡œê·¸ì¸
                .requestMatchers("/manager*").hasAnyRole("ADMIN", "MANAGER")
                .requestMatchers("/admin*/*").hasRole("ADMIN")
                .requestMatchers("/main").authenticated() //ë¡œê·¸ì¸í•œ ëŒ€ìƒì
                .requestMatchers("/carInfor/map/*").hasRole("USER")
                        .anyRequest().permitAll() //ê·¸ì™¸ ì „ì²´ ëŒ€ìƒ
                ;
                httpSecurity.formLogin(login -> login.loginPage("/loginForm") //ë¡œê·¸ì¸ í•˜ì§€ ì•Šì€ ì‚¬ëŒì´ ë¡œê·¸ì¸í•œ í›„ì— ì ‘ê·¼ ê°€ëŠ¥í•œ í˜ì´ì§€ë¥¼ ëˆŒë €ì„ë•Œ ë¡œê·¸ì¸ í¼ì„ ë„ì–´ë¼
                                .failureUrl("/loginForm?fail=true") 
                                .loginProcessingUrl("/login") 
                                .defaultSuccessUrl("/")); //ë¡œê·¸ì¸ í•˜ê³  ë‚˜ë©´ ë©”ì¸ìœ¼ë¡œ ê°„ë‹¤
                httpSecurity.logout(logout -> logout
                                .logoutSuccessUrl("/home")
                                .invalidateHttpSession(true)
                                .deleteCookies("JSESSIONID"));

                return httpSecurity.build();
        }
                 @Bean
        public BCryptPasswordEncoder encoderPasswordEncoder() {
                return new BCryptPasswordEncoder();
        }       
```
        ëª¨ì—¬ì„œ íšŒì˜í•˜ë‹¤ê°€ ê°•ì‚¬ë‹˜ì´ ë¶€ë¥´ì‹œê¸¸ë˜ ë‚´ê°€ ë‹¤ë…€ì˜¬ê²Œ~ í•˜ê³  ë‚˜ê°”ë‹¤ê°€ ë¡œë˜ 5ë“±ì— ë‹¹ì²¨ì´ ë˜ì§€ ì•ŠëŠ” ì œê°€ ë°±ì—”ë“œì— ë‹¹ì²¨ë˜ì—ˆìë‹ˆë‹¤.
        ë‚´ê°€.. ë‚´ê°€ ë°±ì—”ë“œë¼ë‹ˆ.. ë‚´ê°€ ë°±ì—”ë“œë¼ë‹ˆ!! ìœ¼ì•„ë‹ˆ!! ë‚´ê°€ ë°±ì—”ë“œë¼ë‹ˆ!!!!!
        ì•„ë¬´ê³ í†  ëª¨ë¥´ëŠ” ë‚´ê°€ ë°±ì—”ë“œë¼ ê±±ì •ì´ ë§ì´ ë˜ì—ˆì§€ë§Œ ë§ˆë¥¸ ì˜¤ì§•ì–´ë„ ì§œë©´ ë¬¼ì´ ë‚˜ì˜¨ë‹¤ê³ 
        í•˜ë‹¤ë³´ë‹ˆ ë˜ë”ë¼êµ¬ìš”.
        ì¼ë‹¨ í•´! ë¼ëŠ” ë§ˆì¸ë“œê°€ ì¤‘ìš”í–ˆìë‹ˆë‹¤.
        í•˜ë‚˜ì”© í•´ê²°í•´ ë‚˜ê°€ëŠ” ìš°ë¦¬ íŒ€ì„ ë³´ë©´ì„œ ìš°ë¦¬ë„ í•  ìˆ˜ ìˆë‹¤ë¼ëŠ” ìƒê°ì„ í•˜ê²Œ ë˜ì—ˆìë‹ˆë‹¤.
        ìš°ë¦¬ ì¡°ì›ë“¤ì´ ë§ì´ ë„ì™€ì¤˜ì„œ í”„ë¡œì íŠ¸ 1ì°¨ ì™„ë£Œ í•  ìˆ˜ ìˆì—ˆìë‹ˆë‹¤.
        ê¶Œí•œë¶€ì—¬í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì‹œí–‰ì°©ì˜¤ê°€ ë§ì´ ìˆì—ˆê³  ë¡œê·¸ì¸í•˜ë©´ì„œ PASSWORDë¥¼ ì•”í˜¸í™” í•˜ëŠ” ë¶€ë¶„ë„ ì¸ìƒê¹Šì—ˆìë‹ˆë‹¤.
        2ì°¨ í”„ë¡œì íŠ¸ë„ ì˜ í•´ì³ë‚˜ê°”ìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.
        ë¶€ì¡±í•œ ì €ë¥¼ ë§Œë‚˜ ê³ ìƒí•œ íŒ€ì›ë“¤ì—ê²Œ ì´ ì˜ê´‘ì„ ëŒë¦½ë‹ˆë‹¤.

### ğŸ‘ ì†¡ëª…ì£¼

```
      SELECT T_SURVEYOPT.SURVEY_OPT_URL AS SURVEY_RANK_FIRST
    FROM (
    SELECT T_SURVEY.SURVEY_UID
    FROM SURVEY AS T_SURVEY
    INNER JOIN SURVEYRESULT AS T_SURVEYRESULT ON T_SURVEY.SURVEY_UID = T_SURVEYRESULT.SURVEY_UID
    WHERE T_SURVEY.SURVEY_OPT_ID = 'O-54'
    ) AS T_SURVEYUID
    INNER JOIN SURVEY AS T_SURVEY2 ON T_SURVEYUID.SURVEY_UID = T_SURVEY2.SURVEY_UID
    INNER JOIN SURVEY_OPT AS T_SURVEYOPT ON T_SURVEYOPT.SURVEY_OPT_ID = T_SURVEY2.SURVEY_OPT_ID
    WHERE T_SURVEY2.SURVEY_QUESTION_ID = 'Q-06'
    GROUP BY T_SURVEYOPT.SURVEY_OPT_URL
    ORDER BY COUNT(*) DESC
    LIMIT 3;

    // ê´€ë¦¬ì ë¶€ëª¨í…Œì´ë¸” ì„¤ë¬¸ì¡°ì‚¬ ì‚­ì œ
    public Object delete(Map dataMap) {
        String sqlMapId = "Adminsurvey.surveydelete";
        Object result = sharedDao.delete(sqlMapId, dataMap);
        return result;
        }
    // ê´€ë¦¬ì ìì‹í…Œì´ë¸” ì„¤ë¬¸ì¡°ì‚¬ ì‚­ì œ
    public Object resultdelete(Map dataMap) {
        String sqlMapId = "Adminsurvey.surveyresultdelete";
        Object result = sharedDao.delete(sqlMapId, dataMap);
        return result;
        }
    // ê´€ë¦¬ì ì„¤ë¬¸ì¡°ì‚¬ ì‚­ì œ ë° select
    public Object deleteAndSelectSearch(String SURVEY_UID, Map dataMap) {
        dataMap.put("SURVEY_UID", SURVEY_UID);
        HashMap result = new HashMap<>();
        result.put("deleteCount", this.delete(dataMap));
        result.put("deleteCount", this.resultdelete(dataMap));
        result.putAll(this.selectWithPagination(dataMap));
        return result;
        }   
```
    ë­í‚¹ì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ ì¿¼ë¦¬ë¬¸ì„ ì‘ì„±í•˜ëŠ”ë° ìˆì–´ì„œ 


----

### ğŸ‘ ì¡°íš¨ì›

```
        <% Paginations paginations=(Paginations)result.get("paginations"); %>
        
          </div>
          <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
              <li class="page-item">
                <a class="page-link" href="/adminproduct/selectSearch?currentPage=<%=paginations.getPreviousPage()%>&search=<%= params.getOrDefault("search", "") %>&words=<%= params.getOrDefault("words", "") %>">Previous</a>
            </li>
              <% for(int i=paginations.getBlockStart();i <=paginations.getBlockEnd(); i=i+1){ %>
                <li class="page-item">
                  <a class="page-link" href="/adminproduct/selectSearch?currentPage=<%= i %>&search=<%= params.getOrDefault("search", "") %>&words=<%= params.getOrDefault("words", "") %>">
                    <%= i %>
                  </a>
                </li>
                <% } %>
                <li class="page-item">
                  <a class="page-link" href="/adminproduct/selectSearch?currentPage=<%= paginations.getNextPage() %>&search=<%= params.getOrDefault("search", "") %>&words=<%= params.getOrDefault("words", "") %>">Next</a>
                </li> 
            </ul>
          </nav>
        </div>

        //ì œí’ˆ ì¶”ê°€í•˜ê¸°
        public Object insert(Map dataMap) {
            String sqlMapId = "Adminproduct.insert";
            if (dataMap.get("PRODUCT_UID") == null || dataMap.get("PRODUCT_UID").equals("")) {
              
                String uuid = commons.generateUUID(); // user_id ë°›ê¸° (ìˆ˜ì •)
                dataMap.put("PRODUCT_UID", uuid);
                dataMap.put("USER_ID", commons.getUserID()); 
            } else {
                
            }
            
            Object result_1 = sharedDao.insert(sqlMapId, dataMap);
            HashMap result = (HashMap) this.selectWithPagination(dataMap);
            return result;
        
        }    
}

```

 í”„ë¡œì íŠ¸ ì‹œì‘ì´ ì—¬ë¦„ì´ë¼ëŠ” ê³„ì ˆ íŠ¹ì„±ìƒ ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œì— ëŒ€í•œ ê´€ì‹¬ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë‹¤ì´ì–´íŠ¸ ë³´ì¡°ì œ ì‚¬ì´íŠ¸ë¥¼ ìš”ì²­í•œ íŒ€ì˜ í”„ë¡œì íŠ¸ë¥¼ ë§¡ê³ ì í–ˆê³ ,  ìˆ˜ì£¼ ì œì•ˆì„œë¥¼ ê°€ì§€ê³  ê²©ë ¬í•œ PT ê²½ìŸ ëì— ì´ í”„ë¡œì íŠ¸ë¥¼ ë‹´ë‹¹í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì²˜ìŒìœ¼ë¡œ ë‚´ê°€ ìƒê°í•˜ëŠ” ì›¹ ì‚¬ì´íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìˆ˜ì£¼-ì˜ë¢° ê´€ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ  í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ì—ˆê¸° ë•Œë¬¸ì— ë” í° ì±…ì„ê°ì„ ëŠê¼ˆìŠµë‹ˆë‹¤. ë¨¼ì €,  ì˜ë¢°í•œ íŒ€ì´ ì›¹ ì‚¬ì´íŠ¸ì— ì–´ë–¤ ë‚´ìš©ì„ ë³´ì—¬ì£¼ê³  ì–´ë–¤ ê¸°ëŠ¥ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ”ì§€ ì •í™•í•˜ê²Œ íŒŒì•…í–ˆìŠµë‹ˆë‹¤. ì• ë§¤í•˜ê±°ë‚˜ ë” ìì„¸í•œ ì„¤ëª…ì´ í•„ìš”í•œ ì‚¬í•­ë“¤ì€ Excelë¡œ ì •ë¦¬í•˜ì—¬ ì €ì˜ íŒ€ PMì—ê²Œ ì œì¶œí•˜ê³  íšŒì˜í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ê³ , ê·¸ í›„ ìš°ë¦¬ì™€ ì˜ë¢°íŒ€ PMë¼ë¦¬ì˜  ë¯¸íŒ…ì„ í†µí•´ ë” ì •í™•í•œ ë°©í–¥ì„ ì–»ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì„ í†µí•´ ì˜ì‚¬ ì†Œí†µì˜ ì¤‘ìš”ì„±ê³¼ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì´í•´ë„ì˜ ì¤‘ìš”ì„±ì„ ê¹¨ë‹«ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ í”„ë¡œì íŠ¸ì—ì„œ ì£¼ë¡œê²€ìƒ‰(search) ë° í˜ì´ì§€ë„¤ì´ì…˜(pagination) ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë¶€ë¶„ì„ ë‹´ë‹¹í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê¸°ëŠ¥ì€ ê°„ë‹¨í•´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•  ë•Œ í”„ë¡œì íŠ¸ì˜ ì™„ì„±ë„ë¥¼ ë†’ì´ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. íŠ¹íˆ í˜ì´ì§€ë„¤ì´ì…˜ì„ êµ¬í˜„í•  ë•Œ í˜ì´ì§€ ë²ˆí˜¸ì™€ ê²€ìƒ‰ì–´ì™€ ê°™ì€ ë§¤ê°œë³€ìˆ˜ ê°’ì´ ë™ì ìœ¼ë¡œ ë³€ê²½ë  ë•Œ, ì´ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•˜ê³  ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ì˜ í˜•íƒœë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í˜ì´ì§€ ë²ˆí˜¸ ë° ê²€ìƒ‰ì–´ì™€ ê°™ì´ ë™ì ìœ¼ë¡œ ë³€í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ ê°’ì„ URL ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì„ ê³µë¶€í•˜ê³  êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì„ í†µí•´ í˜ì´ì§€ë„¤ì´ì…˜ê³¼ ê²€ìƒ‰ ê¸°ëŠ¥ì„ í”„ë¡œì íŠ¸ì— ì„±ê³µì ìœ¼ë¡œ í†µí•©í•˜ì˜€ìŠµë‹ˆë‹¤. 

ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ì‹œìŠ¤í…œ íë¦„ë„ì— ë”°ë¼ ì–´ë–»ê²Œ í˜ëŸ¬ê°€ê³  ì‘ë™ë˜ëŠ”ì§€ ìì„¸íˆ ì´í•´í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë˜í•œ ìˆ˜ì£¼-ì˜ë¢° ë°©ì‹ì˜ í”„ë¡œì íŠ¸ ê²½í—˜ ë•ì— ì €ì˜ ê°œë°œì—­ëŸ‰ì„ í–¥ìƒì‹œí‚¤ëŠ”ë° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.

---
### ğŸ‘ ì˜¤ê°€ë°°

```
        List surveyMapList = new ArrayList<Map>();
        for (String questionId : dataMap.keySet()) {
            Map<String, String> questionAnswerMap = new HashMap<>();
            String answerId = (String) dataMap.get(questionId);
            questionAnswerMap.put("QuestionId", questionId);
            questionAnswerMap.put("AnswerId", answerId);
            questionAnswerMap.put("SURVEY_ID", this.generateUUID());
            surveyMapList.add(questionAnswerMap);
        }
        dataMap.put("surveyMapList", surveyMapList);
        // ë¶€ëª¨í…Œì´ë¸” ê°’ insert ë¨¼ì € ì‹œí‚¤ê¸° 
        String SURVEY_UID = UUID.randomUUID().toString(); 
        dataMap.put("USER_ID", commons.getUserID()); // user_id ë°›ê¸°
        dataMap.put("SURVEY_UID", SURVEY_UID);
        dataMap.put("DATE_TIME", new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date()));
        String sqlMapId = "SurveyService.insertsurveyresult";
        Object result01 = sharedDao.insert(sqlMapId, dataMap);

        // ìì‹í…Œì´ë¸” insert

        dataMap.put("SURVEY_TYPE_ID", "F-01");
        sqlMapId = "SurveyService.insertsurvey";
        Object resultMap = sharedDao.insert(sqlMapId, dataMap);
        //String uuid = this.generateUUID();
        return dataMap;

```

ì„¤ë¬¸ì¡°ì‚¬ ê²°ê³¼ê°’ì„ DBì— ë„£ëŠ” ê³¼ì •ì—ì„œ NAMEê³¼ VALUEê°’ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ë²•ê³¼ DBì— INSERTë¥¼ ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” 
ë¶€ëª¨í…Œì´ë¸”ì„ ë¨¼ì € insertë¥¼ ì‹œì¼œì•¼ ìì‹í…Œì´ë¸”ì— insertê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì„ í™•ì‹¤íˆ ì¸ì§€í•˜ì˜€ìŠµë‹ˆë‹¤. 
ë”ë¶ˆì–´ ì°¸ì¡° ë°›ì€ fkê°’ì¸ SURVEY_UIDëŠ” UUIDë¡œ ë°›ëŠ”ë° ë™ì¼í•œ UUIDì„ì„ ì¸ì§€ì‹œì¼œì¤˜ì•¼ ë¶€ëª¨í…Œì´ë¸” ë° ìì‹í…Œì´ë¸”ì´ insertê°€ ëœë‹¤ëŠ” ì ì„ í†µí•´ 
ERDë¥¼ ëª…í™•í•˜ê²Œ ì´í•´í•´ì•¼ ë‚˜ë¨¸ì§€ ì½”ë“œë¥¼ ì¡°ê¸ˆ ë” ìˆ˜ì›”í•˜ê²Œ ì§„í–‰í•´ ë‚˜ê°ˆ ìˆ˜ ìˆìŒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. 
ë§ˆì§€ë§‰ìœ¼ë¡œ íŒ€ì›ë¶„ë“¤ê³¼ ì›í™œí•œ ì†Œí†µ ë•ë¶„ì— ì¡°ê¸ˆ ë” ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•´ ë‚˜ê°ˆ ìˆ˜ ìˆì—ˆìŒì— ê°ì‚¬ë“œë¦½ë‹ˆë‹¤!! 

---

### ğŸ  9998íŒ€ ë¬¸í™” 
### 1. ë°ì¼ë¦¬ ë¯¸íŒ…
- ë§¤ì¼ ì•„ì¹¨ ê°ì ê·¸ ë‚  í•´ì•¼í•˜ëŠ” ì‘ì—…ì—ëŒ€í•´ ê³µìœ í•˜ê¸°
- ì‘ì—…ì§„í–‰ì •ë„ì—ëŒ€í•´ì„œ ê³µìœ í•˜ê¸°
- 'ë‚œ ë­í•˜ë©´ ë¨?' ê¸ˆì§€

### 2. Merge
- ê²¹ì¹˜ëŠ” ì‚¬í•­ì„ ìˆ˜ì •í•˜ê²Œ ëœë‹¤ë©´ mergeí•˜ê¸° ì „ì— ê³µìœ í•˜ê¸°
- ì™„ì„±ëœ ì½”ë“œ ë‚ ë¦¬ê¸° ë°©ì§€ 

### 3. í•¨ê»˜ ê³ ë¯¼í•˜ê¸°
- ìì‹ ì´ ë‹´ë‹¹í•œ ë¶€ë¶„ë§Œ ì‹ ê²½ì“°ì§€ ì•Šê³  í”„ë¡œì íŠ¸ ì§„í–‰ ì‹œ ìƒê¸°ëŠ” ë¬¸ì œë“¤ í•¨ê»˜ ê³ ë¯¼í•˜ê¸°